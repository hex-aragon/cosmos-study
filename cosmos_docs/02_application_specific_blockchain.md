# 애플리케이션별 블록체인 개요

- 이 문서에서는 애플리케이션별 블록체인이 무엇이며, 개발자가 스마트 컨트랙트를 작성하는 대신 애플리케이션별 블록체인을 구축하려는 이유를 설명합니다.

# 애플리케이션별 블록체인이란 무엇인가요?

- 애플리케이션별 블록체인은 단일 애플리케이션을 운영하기 위해 맞춤화된 블록체인입니다. 개발자는 이더리움과 같은 기본 블록체인 위에 탈중앙화된 애플리케이션을 구축하는 대신, 처음부터 자체 블록체인을 구축합니다. 즉, 풀노드 클라이언트, 라이트 클라이언트 및 노드와 상호 작용하는 데 필요한 모든 인터페이스(CLI, REST 등)를 구축해야 합니다.

```
                ^  +-------------------------------+  ^
                |  |                               |  |   Built with Cosmos SDK
                |  |  State-machine = Application  |  |
                |  |                               |  v
                |  +-------------------------------+
                |  |                               |  ^
Blockchain node |  |           Consensus           |  |
                |  |                               |  |
                |  +-------------------------------+  |   CometBFT
                |  |                               |  |
                |  |           Networking          |  |
                |  |                               |  |
                v  +-------------------------------+  v
```

# 스마트 컨트랙트의 단점은 무엇인가요?
* 이더리움과 같은 가상 머신 블록체인은 2014년에 더 많은 프로그래밍 기능에 대한 수요를 해결했습니다. 당시에는 탈중앙화 애플리케이션을 구축하는 데 사용할 수 있는 옵션이 매우 제한적이었습니다. 대부분의 개발자는 복잡하고 제한된 비트코인 스크립팅 언어를 기반으로 구축하거나, 작업과 커스터마이징이 어려운 비트코인 코드베이스를 포크했습니다. 

* 가상 머신 블록체인은 새로운 가치 제안과 함께 등장했습니다. 스마트 컨트랙트라고 하는 튜링 완전형 프로그램을 해석할 수 있는 가상 머신을 스테이트 머신에 통합한 것입니다. 이러한 스마트 컨트랙트는 일회성 이벤트(예: ICO)와 같은 사용 사례에는 매우 유용하지만 복잡한 탈중앙화 플랫폼을 구축하는 데는 부족할 수 있습니다. 그 이유는 다음과 같습니다:



* 스마트 컨트랙트는 일반적으로 기본 가상 머신에서 해석할 수 있는 특정 프로그래밍 언어로 개발됩니다. 이러한 프로그래밍 언어는 종종 미성숙하고 가상 머신 자체의 제약에 의해 본질적으로 제한됩니다. 예를 들어, 이더리움 가상 머신은 개발자가 코드의 자동 실행을 구현할 수 없습니다. 개발자는 또한 EVM의 계정 기반 시스템으로 제한되어 있으며, 암호화 작업을 위해 제한된 기능 세트 중에서만 선택할 수 있습니다. 이러한 예는 스마트 컨트랙트 환경의 유연성이 부족하다는 것을 암시합니다. 스마트 컨트랙트는 모두 동일한 가상 머신에서 실행됩니다. 즉, 리소스를 두고 경쟁하기 때문에 성능이 심각하게 제한될 수 있습니다. 또한 스테이트 머신을 여러 하위 집합으로 분할하더라도(예: 샤딩을 통해) 
스마트 컨트랙트는 여전히 가상 머신에서 해석해야 하므로 스테이트 머신 수준에서 구현된 기본 애플리케이션에 비해 성능이 제한됩니다(벤치마크에 따르면 가상 머신을 제거하면 성능이 10배 정도 향상됨).
'

* 스마트 콘트랙트가 동일한 기본 환경을 공유한다는 사실의 또 다른 문제는 결과적으로 주권이 제한된다는 점입니다. 탈중앙화 애플리케이션은 여러 플레이어가 참여하는 생태계입니다. 애플리케이션이 범용 가상 머신 블록체인을 기반으로 구축된 경우, 이해관계자는 애플리케이션에 대한 주권이 매우 제한적이며 궁극적으로 기본 블록체인의 거버넌스에 의해 대체됩니다. 애플리케이션에 버그가 발생하면 이를 해결할 수 있는 방법이 거의 없습니다. 애플리케이션별 블록체인은 이러한 단점을 해결하기 위해 설계되었습니다.

# 애플리케이션별 블록체인의 이점

## 유연성 

* 애플리케이션별 블록체인은 개발자에게 최대한의 유연성을 제공합니다: 코스모스 블록체인에서 스테이트 머신은 일반적으로 ABCI라는 인터페이스를 통해 기본 합의 엔진에 연결됩니다. 이 인터페이스는 모든 프로그래밍 언어로 래핑할 수 있으므로 개발자는 원하는 프로그래밍 언어로 스테이트 머신을 구축할 수 있습니다. 

* 개발자는 여러 프레임워크 중에서 선택해 스테이트 머신을 구축할 수 있습니다. 현재 가장 널리 사용되는 프레임워크는 Cosmos SDK이지만 다른 프레임워크도 존재합니다(예: Lotion, Weave...). 일반적으로 사용하고자 하는 프로그래밍 언어에 따라 선택하게 됩니다(코스모스 SDK와 위브는 골랑, 로션은 자바스크립트 등). 

* 또한 개발자는 ABCI를 통해 애플리케이션별 블록체인의 합의 엔진을 교체할 수 있습니다. 현재는 CometBFT만이 생산 준비가 되어 있지만, 앞으로 다른 합의 엔진이 등장할 것으로 예상됩니다.

* 프레임워크와 합의 엔진에 만족하더라도 개발자는 완전한 형태의 요구사항과 완벽하게 일치하지 않을 경우 이를 자유롭게 조정할 수 있습니다. 

* 개발자는 다양한 트레이드오프(예: 검증자 수 대 트랜잭션 처리량, 안전성 대 비동기 가용성 등)와 설계 선택(스토리지용 DB 또는 IAVL 트리, UTXO 또는 계정 모델 등)을 자유롭게 탐색할 수 있습니다. 

* 개발자는 코드의 자동 실행을 구현할 수 있습니다. 코스모스 SDK에서는 각 블록의 시작과 끝에서 로직을 자동으로 트리거할 수 있습니다. 또한 가상 머신 블록체인의 경우 기본 환경에서 제공되는 것에 제약을 받는 것과 달리 애플리케이션에 사용되는 암호화 라이브러리를 자유롭게 선택할 수 있습니다.


위의 목록에는 애플리케이션별 블록체인이 개발자에게 얼마나 많은 유연성을 제공하는지 보여주는 몇 가지 예가 포함되어 있습니다. 코스모스와 코스모스 SDK의 목표는 개발자 도구를 최대한 일반적이고 구성 가능하게 만들어 스택의 각 부분을 호환성을 잃지 않고 포크, 조정 및 개선할 수 있도록 하는 것입니다. 커뮤니티가 성장함에 따라 각 핵심 빌딩 블록에 대한 더 많은 대안이 등장하여 개발자에게 더 많은 옵션을 제공할 것입니다.

## Performance

* 스마트 컨트랙트로 구축된 탈중앙화 애플리케이션은 본질적으로 기본 환경에 의해 성능이 제한됩니다. 탈중앙화 애플리케이션의 성능을 최적화하려면 애플리케이션 전용 블록체인으로 구축해야 합니다. 다음은 애플리케이션별 블록체인이 성능 측면에서 제공하는 몇 가지 이점입니다. 

* 애플리케이션별 블록체인의 개발자는 CometBFT BFT와 같은 새로운 합의 엔진으로 운영하도록 선택할 수 있습니다. 오늘날 대부분의 가상 머신 블록체인이 사용하는 작업 증명과 비교할 때 처리량이 크게 향상됩니다. 
* 애플리케이션별 블록체인은 단일 애플리케이션만 운영하므로 애플리케이션이 다른 애플리케이션과 연산 및 저장 공간을 두고 경쟁하지 않습니다. 이는 오늘날 대부분의 비샤딩 가상머신 블록체인이 스마트 콘트랙트가 모두 연산과 저장 공간을 두고 경쟁하는 것과는 반대입니다. 
* 가상머신 블록체인이 효율적인 합의 알고리즘과 함께 애플리케이션 기반 샤딩을 제공하더라도 가상머신 자체의 성능은 여전히 제한될 것입니다. 실제 처리량 병목 현상은 스테이트 머신이며, 트랜잭션을 가상 머신에서 해석하도록 요구하면 트랜잭션 처리의 계산 복잡성이 크게 증가합니다.


## 보안 
* 보안은 정량화하기 어렵고 플랫폼마다 크게 다릅니다. 하지만 애플리케이션별 블록체인이 보안 측면에서 가져올 수 있는 몇 가지 중요한 이점은 다음과 같습니다. 개발자는 애플리케이션별 블록체인을 구축할 때 종종 더 미성숙한 스마트 계약 프로그래밍 언어 대신 Go와 같은 검증된 프로그래밍 언어를 선택할 수 있습니다. 개발자는 기본 가상 머신에서 제공하는 암호화 기능의 제약을 받지 않습니다. 개발자는 자체적인 커스텀 암호화를 사용할 수 있으며, 잘 감사된 암호화 라이브러리를 사용할 수 있습니다. 개발자는 기본 가상 머신의 잠재적인 버그나 악용 가능한 메커니즘에 대해 걱정할 필요가 없으므로 애플리케이션의 보안에 대해 더 쉽게 추론할 수 있습니다.

## 주권 
* 애플리케이션별 블록체인의 주요 이점 중 하나는 주권입니다. 탈중앙화된 애플리케이션은 사용자, 개발자, 타사 서비스 등 많은 주체가 참여하는 생태계입니다. 개발자가 많은 탈중앙화 애플리케이션이 공존하는 가상 머신 블록체인을 기반으로 구축하는 경우, 애플리케이션의 커뮤니티는 기본 블록체인의 커뮤니티와 다르며, 거버넌스 프로세스에서 후자가 전자를 대체합니다. 버그가 발생하거나 새로운 기능이 필요한 경우, 애플리케이션의 이해관계자는 코드를 업그레이드할 수 있는 여지가 거의 없습니다. 기본 블록체인의 커뮤니티가 행동을 거부하면 아무 일도 일어나지 않습니다. 여기서 근본적인 문제는 애플리케이션의 거버넌스와 네트워크의 거버넌스가 일치하지 않는다는 것입니다. 이 문제는 애플리케이션별 블록체인을 통해 해결됩니다. 애플리케이션별 블록체인은 단일 애플리케이션을 운영하는 데 특화되어 있기 때문에 해당 애플리케이션의 이해관계자가 전체 체인을 완전히 제어할 수 있습니다. 따라서 버그가 발견되어도 커뮤니티가 멈추지 않고, 커뮤니티가 발전 방식을 자유롭게 선택할 수 있습니다.
